<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
      <style>
         body {
            font-family: Helvetica, arial, sans-serif;
            font-size: 14px;
            line-height: 1.6;
            padding-top: 10px;
            padding-bottom: 10px;
            background-color: white;
            padding: 30px; }

         body > *:first-child {
            margin-top: 0 !important; }
         body > *:last-child {
            margin-bottom: 0 !important; }

         a {
            color: #4183C4; }
         a.absent {
            color: #cc0000; }
         a.anchor {
            display: block;
            padding-left: 30px;
            margin-left: -30px;
            cursor: pointer;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0; }

         h1, h2, h3, h4, h5, h6 {
            margin: 20px 0 10px;
            padding: 0;
            font-weight: bold;
            -webkit-font-smoothing: antialiased;
            cursor: text;
            position: relative; }

         h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
            text-decoration: none; }

         h1 tt, h1 code {
            font-size: inherit; }

         h2 tt, h2 code {
            font-size: inherit; }

         h3 tt, h3 code {
            font-size: inherit; }

         h4 tt, h4 code {
            font-size: inherit; }

         h5 tt, h5 code {
            font-size: inherit; }

         h6 tt, h6 code {
            font-size: inherit; }

         h1 {
            font-size: 28px;
            color: black; }

         h2 {
            font-size: 24px;
            border-bottom: 1px solid #cccccc;
            color: black; }

         h3 {
            font-size: 18px;
            border-bottom: 1px solid #efefef;
         }

         h4 {
            font-size: 16px; }

         h5 {
            font-size: 14px; }

         h6 {
            color: #777777;
            font-size: 14px; }

         p, blockquote, ul, ol, dl, li, table, pre {
            margin: 15px 0; }

         hr {
            background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
            border: 0 none;
            color: #cccccc;
            height: 4px;
            padding: 0;
         }

         body > h2:first-child {
            margin-top: 0;
            padding-top: 0; }
         body > h1:first-child {
            margin-top: 0;
            padding-top: 0; }
         body > h1:first-child + h2 {
            margin-top: 0;
            padding-top: 0; }
         body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
            margin-top: 0;
            padding-top: 0; }

         a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
            margin-top: 0;
            padding-top: 0; }

         h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
            margin-top: 0; }

         li p.first {
            display: inline-block; }
         li {
            margin: 0; }
         ul, ol {
            padding-left: 30px; }

         ul :first-child, ol :first-child {
            margin-top: 0; }

         dl {
            padding: 0; }
         dl dt {
            font-size: 14px;
            font-weight: bold;
            font-style: italic;
            padding: 0;
            margin: 15px 0 5px; }
         dl dt:first-child {
            padding: 0; }
         dl dt > :first-child {
            margin-top: 0; }
         dl dt > :last-child {
            margin-bottom: 0; }
         dl dd {
            margin: 0 0 15px;
            padding: 0 15px; }
         dl dd > :first-child {
            margin-top: 0; }
         dl dd > :last-child {
            margin-bottom: 0; }

         blockquote {
            border-left: 4px solid #dddddd;
            padding: 0 15px;
            color: #777777; }
         blockquote > :first-child {
            margin-top: 0; }
         blockquote > :last-child {
            margin-bottom: 0; }

         table {
            padding: 0;border-collapse: collapse; }
         table tr {
            border-top: 1px solid #cccccc;
            background-color: white;
            margin: 0;
            padding: 0; }
         table tr:nth-child(2n) {
            background-color: #f8f8f8; }
         table tr th {
            font-weight: bold;
            border: 1px solid #cccccc;
            margin: 0;
            padding: 6px 13px; }
         table tr td {
            border: 1px solid #cccccc;
            margin: 0;
            padding: 6px 13px; }
         table tr th :first-child, table tr td :first-child {
            margin-top: 0; }
         table tr th :last-child, table tr td :last-child {
            margin-bottom: 0; }

         img {
            max-width: 100%; }

         span.frame {
            display: block;
            overflow: hidden; }
         span.frame > span {
            border: 1px solid #dddddd;
            display: block;
            float: left;
            overflow: hidden;
            margin: 13px 0 0;
            padding: 7px;
            width: auto; }
         span.frame span img {
            display: block;
            float: left; }
         span.frame span span {
            clear: both;
            color: #333333;
            display: block;
            padding: 5px 0 0; }
         span.align-center {
            display: block;
            overflow: hidden;
            clear: both; }
         span.align-center > span {
            display: block;
            overflow: hidden;
            margin: 13px auto 0;
            text-align: center; }
         span.align-center span img {
            margin: 0 auto;
            text-align: center; }
         span.align-right {
            display: block;
            overflow: hidden;
            clear: both; }
         span.align-right > span {
            display: block;
            overflow: hidden;
            margin: 13px 0 0;
            text-align: right; }
         span.align-right span img {
            margin: 0;
            text-align: right; }
         span.float-left {
            display: block;
            margin-right: 13px;
            overflow: hidden;
            float: left; }
         span.float-left span {
            margin: 13px 0 0; }
         span.float-right {
            display: block;
            margin-left: 13px;
            overflow: hidden;
            float: right; }
         span.float-right > span {
            display: block;
            overflow: hidden;
            margin: 13px auto 0;
            text-align: right; }

         code, tt {
            margin: 0 2px;
            padding: 0 5px;
            white-space: nowrap;
            border: 1px solid #eaeaea;
            background-color: #f8f8f8;
            border-radius: 3px; }

         pre code {
            margin: 0;
            padding: 0;
            white-space: pre;
            border: none;
            background: transparent; }

         .highlight pre {
            background-color: #f8f8f8;
            border: 1px solid #cccccc;
            font-size: 13px;
            line-height: 19px;
            overflow: auto;
            padding: 6px 10px;
            border-radius: 3px; }

         pre {
            background-color: #f8f8f8;
            border: 1px solid #cccccc;
            font-size: 13px;
            line-height: 19px;
            overflow: auto;
            padding: 6px 10px;
            border-radius: 3px; }
         pre code, pre tt {
            background-color: transparent;
            border: none; }

         sup {
            font-size: 0.83em;
            vertical-align: super;
            line-height: 0;
         }
         * {
            -webkit-print-color-adjust: exact;
         }
         @media screen and (min-width: 914px) {
            body {
               width: 854px;
               margin:0 auto;
            }
         }
         @media print {
            table, pre {
               page-break-inside: avoid;
            }
            pre {
               word-wrap: break-word;
            }
         }

         #selections {
            text-align: center;
            padding-left: 0;
         }

         #selections li {
            display: inline-block;
            height: 250px;
            width: 250px;
            margin: 10px;
            -moz-box-shadow: 0px 0px 3px 1px gray;
            -webkit-box-shadow: 0px 0px 3px 1px gray;
            -o-box-shadow: 0px 0px 3px 1px gray;
            box-shadow: 0px 0px 3px 1px gray;
         }

         #selections a {
            display: block;
            height: 100%;
            width: 100%;
         }

         #selections li img {
            max-height: 100%;
            max-width: 100%;
            vertical-align: middle;
         }
      </style>
      <title>Table of Contents</title>

   </head>
   <body>
      <h1>Stubby</h1>
      <blockquote>a small web server for stubbing external systems during development</blockquote>

      <h2>Table of Contents</h2>

      <ul>
         <li><a href="#languages">Versions Available</a></li>
         <li><a href="#installation">Installation</a></li>
         <li><a href="#endpoint-configuration">Endpoint Configuration</a></li>
         <li><a href="#the-admin-portal">The Admin Portal</a></li>
         <li><a href="#the-stubs-portal">The Stubs Portal</a></li>
      </ul>


      <h2 id="languages">Versions Available</h2>

      <ul id="selections" class="clearfix"><!--
         --><li><a href="4j" title="Java"><img src="images/java.png" alt="Java"></a></li><!--
         --><li><a href="4node" title="node.js"><img src="images/node.js.png" alt="node.js"></a></li><!--
         --><li><a href="4net" title=".NET"><img src="images/NET.jpg" alt=".NET"></a></li>
      </ul>

      <h2 id="installation">Installation</h2>

         <h3>Java</h3>
         <p>Available on <a href="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22by.stub%22%20AND%20a%3A%22stubby4j%22">Maven Central</a></p>
         <ul>
            <li><b>GroupId:</b> by.stub</li>
            <li><b>ArtifactId:</b> stubby4j</li>
         </ul>
         <h3>Node.js</h3>
         <p>As a command-line tool</p>
<pre>
npm install -g stubby
</pre>
         <p>or as a module dependency</p>
<pre>
npm install stubby
</pre>
         <h3>.NET</h3>
         <p>As a command-line tool via Chocolatey</p>
<pre>
cinst stubby
</pre>
         <p>or as a project reference via NuGet</p>
<pre>
PM&gt; Install-Package stubby
</pre>

      <h2 id="endpoint-configuration">Endpoint Configuration</h2>

      <p>This section explains the usage, intent and behavior of each property on the <code>request</code> and <code>response</code> objects used to populate YAML files loaded by stubby.</p>

      <p>Here is a fully-populated, unrealistic endpoint:
<pre>
-  request:
      url: ^/your/awesome/endpoint$
      method: POST
      query:
         exclamation: post requests can have query strings!
      headers:
         content-type: application/xml
      post: &gt;
         &lt;!xml blah="blah blah blah"&gt;
         &lt;envelope&gt;
            &lt;unaryTag/&gt;
         &lt;/envelope&gt;
      file: tryMyFirst.xml
   response:
      status: 200
      latency: 5000
      headers:
         content-type: application/xml
         server: stubbedServer/4.2
      body: &gt;
         &lt;!xml blah="blah blah blah"&gt;
         &lt;responseXML&gt;
            &lt;content&gt;&lt;/content&gt;
         &lt;/responseXML&gt;
      file: responseData.xml
</pre></p>

      <h3>request</h3>

      <p>This object is used to match an incoming request to stubby against the available endpoints that have been configured.</p>

      <h4>url (required)</h4>

      <ul>
         <li>is a full-fledged <strong>regular expression</strong></li>
         <li>This is the only required property of an endpoint.</li>
         <li>signify the url after the base host and port (i.e. after <code>localhost:8882</code>).</li>
         <li>any query paramters are stripped (so don't include them, that's what <code>query</code> is for).

         <ul>
            <li><code>/url?some=value&amp;another=value</code> becomes <code>/url</code></li>
         </ul>
         </li>
         <li>no checking is done for URI-encoding compliance.

         <ul>
            <li>If it's invalid, it won't ever trigger a match.</li>
         </ul>
         </li>
      </ul>


      <p>This is the simplest you can get:</p>
<pre>
-  request:
      url: /
</pre>

      <p>A demonstration using regular expressions:</p>
<pre>
-  request:
      url: ^/has/to/begin/with/this/

-  request:
      url: /has/to/end/with/this/$

-  request:
      url: ^/must/be/this/exactly/with/optional/trailing/slash/?$
</pre>

      <h4>method</h4>

      <ul>
         <li>defaults to <code>GET</code>.</li>
         <li>case-insensitive.</li>
         <li>can be any of the following:

         <ul>
            <li>HEAD</li>
            <li>GET</li>
            <li>POST</li>
            <li>PUT</li>
            <li>POST</li>
            <li>DELETE</li>
            <li>etc.</li>
         </ul>
         </li>
      </ul>


<pre>
-  request:
      url: /anything
      method: GET
</pre>

      <ul>
         <li>it can also be an array of values.</li>
      </ul>


<pre>
-  request:
      url: /anything
      method: [GET, HEAD]

-  request:
      url: ^/yonder
      method:
         -  GET
         -  HEAD
         -  POST
</pre>

      <h4>query</h4>

      <ul>
         <li>if ommitted, stubby ignores query parameters for the given url.</li>
         <li>a yaml hashmap of variable/value pairs.</li>
         <li><p>allows the query parameters to appear in any order in a uri</p></li>
         <li><p>The following will match either of these:</p>

         <ul>
            <li><code>/with/parameters?search=search+terms&amp;filter=month</code></li>
            <li><code>/with/parameters?filter=month&amp;search=search+terms</code></li>
         </ul>
         </li>
      </ul>


<pre>
-  request:
      url: ^/with/parameters$
      query:
         search: search terms
         filter: month
</pre>

      <h4>post</h4>

      <ul>
         <li>if ommitted, any post data is ignored.</li>
         <li>the body contents of the server request, such as form data.</li>
      </ul>


<pre>
-  request:
      url: ^/post/form/data$
      post: name=John&amp;email=john@example.com
</pre>

      <h4>file</h4>

      <ul>
         <li>if supplied, replaces <code>post</code> with the contents of the locally given file.

         <ul>
            <li>paths are relative from where stubby was executed.</li>
         </ul>
         </li>
         <li>if the file is not found when the request is made, falls back to <code>post</code> for matching.</li>
         <li>allows you to split up stubby data across multiple files</li>
      </ul>


<pre>
-  request:
      url: ^/match/against/file$
      file: postedData.json
      post: '{"fallback":"data"}'
</pre>

      <p>postedData.json</p>
<pre>
{"fileContents":"match against this if the file is here"}
</pre>

      <ul>
         <li>if <code>postedData.json</code> doesn't exist on the filesystem when <code>/match/against/file</code> is requested, stubby will match post contents against <code>{"fallback":"data"}</code> (from <code>post</code>) instead.</li>
      </ul>


      <h4>headers</h4>

      <ul>
         <li>if ommitted, stubby ignores headers for the given url.</li>
         <li>case-insensitive matching of header names.</li>
         <li>a hashmap of header/value pairs similar to <code>query</code>.</li>
      </ul>


      <p>The following endpoint only accepts requests with <code>application/json</code> post values:</p>

<pre>
-  request:
      url: /post/json
      method: post
      headers:
         content-type: application/json
</pre>

      <h3>response</h3>

      <p>Assuming a match has been made against the given <code>request</code> object, data from <code>response</code> is used to build the stubbed response back to the client.</p>

      <h4>status</h4>

      <ul>
         <li>the HTTP status code of the response.</li>
         <li>integer or integer-like string.</li>
         <li>defaults to <code>200</code>.</li>
      </ul>


<pre>
-  request:
      url: ^/im/a/teapot$
      method: POST
   response:
      status: 420
</pre>

      <h4>body</h4>

      <ul>
         <li>contents of the response body</li>
         <li>defaults to an empty content body</li>
      </ul>


<pre>
-  request:
      url: ^/give/me/a/smile$
   response:
      body: ':)'
</pre>

      <h4>file</h4>

      <ul>
         <li>similar to <code>request.file</code>, but the contents of the file are used as the <code>body</code>.</li>
      </ul>


      <p><code>yaml
         -  request:
         url: /
         response:
         file: extremelyLongJsonFile.json
      </code></p>

      <h4>headers</h4>

      <ul>
         <li>similar to <code>request.headers</code> except that these are sent back to the client.</li>
      </ul>


<pre>
-  request:
      url: ^/give/me/some/json$
   response:
      headers:
         content-type: application/json
      body: &gt;
         [{
            "name":"John",
            "email":"john@example.com"
         },{
            "name":"Jane",
            "email":"jane@example.com"
         }]
</pre>

      <h4>latency</h4>

      <ul>
         <li>time to wait, in milliseconds, before sending back the response</li>
         <li>good for testing timeouts, or slow connections</li>
      </ul>


<pre>
-  request:
      url: ^/hello/to/jupiter$
   response:
      latency: 800000
      body: Hello, World!
</pre>

      <h2 id="the-admin-portal">The Admin Portal</h2>

      <p>The admin portal is a RESTful(ish) endpoint running on <code>localhost:8889</code>. Or wherever you described through stubby's options.</p>

      <h3>Supplying Endpoints to Stubby</h3>

      <p>Submit <code>POST</code> requests to <code>localhost:8889</code> or load a data-file (-d) with the following structure for each endpoint:</p>

      <ul>
         <li><code>request</code>: describes the client's call to the server

         <ul>
            <li><code>method</code>: GET/POST/PUT/DELETE/etc.</li>
            <li><code>url</code>: the URI regex string. GET parameters should also be included inline here</li>
            <li><code>query</code>: a key/value map of query string parameters included with the request</li>
            <li><code>headers</code>: a key/value map of headers the server should respond to</li>
            <li><code>post</code>: a string matching the textual body of the response.</li>
            <li><code>file</code>: if specified, returns the contents of the given file as the request post. If the file cannot be found at request time, <strong>post</strong> is used instead</li>
         </ul>
         </li>
         <li><code>response</code>: describes the server's response to the client

         <ul>
            <li><code>headers</code>: a key/value map of headers the server should use in it's response</li>
            <li><code>latency</code>: the time in milliseconds the server should wait before responding. Useful for testing timeouts and latency</li>
            <li><code>file</code>: if specified, returns the contents of the given file as the response body. If the file cannot be found at request time, <strong>body</strong> is used instead</li>
            <li><code>body</code>: the textual body of the server's response to the client</li>
            <li><code>status</code>: the numerical HTTP status code (200 for OK, 404 for NOT FOUND, etc.)</li>
         </ul>
         </li>
      </ul>


      <h4>YAML (file only)</h4>

<pre>
-  request:
      url: ^/path/to/something$
      method: POST
      headers:
         authorization: "Basic usernamez:passwordinBase64"
      post: this is some post data in textual format
   response:
      headers:
         Content-Type: application/json
      latency: 1000
      status: 200
      body: You're request was successfully processed!

-  request:
      url: ^/path/to/anotherThing
      query:
         a: anything
         b: more
      method: GET
      headers:
         Content-Type: application/json
      post:
   response:
      headers:
         Content-Type: application/json
         Access-Control-Allow-Origin: "*"
      status: 204
      file: path/to/page.html

-  request:
      url: ^/path/to/thing$
      method: POST
      headers:
         Content-Type: application/json
      post: this is some post data in textual format
   response:
      headers:
         Content-Type: application/json
      status: 304
</pre>


      <h4>JSON (file or POST/PUT)</h4>

<pre>
[
  {
    "request": {
      "url": "^/path/to/something$",
      "post": "this is some post data in textual format",
      "headers": {
         "authorization": "Basic usernamez:passwordinBase64"
      },
      "method": "POST"
    },
    "response": {
      "status": 200,
      "headers": {
        "Content-Type": "application/json"
      },
      "latency": 1000,
      "body": "You're request was successfully processed!"
    }
  },
  {
    "request": {
      "url": "^/path/to/anotherThing",
      "query": {
         "a": "anything",
         "b": "more"
      },
      "headers": {
        "Content-Type": "application/json"
      },
      "post": null,
      "method": "GET"
    },
    "response": {
      "status": 204,
      "headers": {
        "Content-Type": "application/json",
        "Access-Control-Allow-Origin": "*"
      },
      "file": "path/to/page.html"
    }
  },
  {
    "request": {
      "url": "^/path/to/thing$",
      "headers": {
        "Content-Type": "application/json"
      },
      "post": "this is some post data in textual format",
      "method": "POST"
    },
    "response": {
      "status": 304,
      "headers": {
        "Content-Type": "application/json"
      }
    }
  }
]
</pre>

      <p>If you want to load more than one endpoint via file, use either a JSON array or YAML list (-) syntax. On success, the response will contain <code>Location</code> in the header with the newly created resources' location</p>

      <h3>Getting the Current List of Stubbed Endpoints</h3>

      <p>Performing a <code>GET</code> request on <code>localhost:8889</code> will return a JSON array of all currently saved responses. It will reply with <code>204 : No Content</code> if there are none saved.</p>

      <p>Performing a <code>GET</code> request on <code>localhost:8889/&lt;id&gt;</code> will return the JSON object representing the response with the supplied id.</p>

      <h4>The Status Page</h4>

      <p>You can also view the currently configured endpoints by going to <code>localhost:8889/status</code></p>

      <h3>Changing Existing Endpoints</h3>

      <p>Perform <code>PUT</code> requests in the same format as using <code>POST</code>, only this time supply the id in the path. For instance, to update the response with id 4 you would <code>PUT</code> to <code>localhost:8889/4</code>.</p>

      <h3>Deleting Endpoints</h3>

      <p>Send a <code>DELETE</code> request to <code>localhost:8889/&lt;id&gt;</code></p>

      <h2 id="the-stubs-portal">The Stubs Portal</h2>

      <p>Requests sent to any url at <code>localhost:8882</code> (or wherever you told stubby to run) will search through the available endpoints and, if a match is found, respond with that endpoint's <code>response</code> data</p>

      <h3>How Endpoints Are Matched</h3>

      <p>For a given endpoint, stubby only cares about matching the properties of the request that have been defined in the YAML. The exception to this rule is <code>method</code>; if it is omitted it is defaulted to <code>GET</code>.</p>

      <p>For instance, the following will match any <code>POST</code> request to the root url:</p>

<pre>
-  request:
      url: /
      method: POST
   response: {}
</pre>

      <p>The request could have any headers and any post body it wants. It will match the above.</p>

      <p>Pseudocode:</p>

<pre>
for each &lt;endpoint&gt; of stored endpoints {

   for each &lt;property&gt; of &lt;endpoint&gt; {
      if &lt;endpoint&gt;.&lt;property&gt; != &lt;incoming request&gt;.&lt;property&gt;
         next endpoint
   }

   return &lt;endpoint&gt;
}
</pre>

      <ul>
         <li><strong>Copyright</strong> 2013 Eric Mrak, Alexander Zagniotov</li>
         <li><strong>License</strong> Apache v2.0</li>
         <li>The logos for Java, node.js and .NET belong to their respective owners</li>
      </ul>

   </body>
</html>
